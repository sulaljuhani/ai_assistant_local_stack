# ==============================================================================
# AI Stack - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and update the values for your deployment
# IMPORTANT: Change all passwords and secrets before deploying!
# ==============================================================================

# ------------------------------------------------------------------------------
# PostgreSQL Database Configuration
# ------------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=aistack
POSTGRES_USER=aistack_user

# ⚠️ SECURITY: Change this password before deployment!
POSTGRES_PASSWORD=changeme_secure_password_123

# PostgreSQL external port (for host access)
POSTGRES_EXTERNAL_PORT=5434

# ------------------------------------------------------------------------------
# Qdrant Vector Database Configuration
# ------------------------------------------------------------------------------
QDRANT_HOST=qdrant
QDRANT_PORT=6333

# Qdrant external port (for host access)
QDRANT_EXTERNAL_PORT=6333

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379

# ⚠️ SECURITY: Uncomment and set password for production
# REDIS_PASSWORD=changeme_redis_password

# Redis external port (for host access)
REDIS_EXTERNAL_PORT=6379

# ------------------------------------------------------------------------------
# Ollama LLM Configuration
# ------------------------------------------------------------------------------
OLLAMA_HOST=ollama
OLLAMA_PORT=11434

# Ollama external port (for host access)
OLLAMA_EXTERNAL_PORT=11434

# Models to pull on startup (comma-separated)
OLLAMA_MODELS=llama3.2:3b,nomic-embed-text

# ------------------------------------------------------------------------------
# n8n Workflow Automation Configuration
# ------------------------------------------------------------------------------
N8N_HOST=n8n
N8N_PORT=5678

# n8n external port (for host access)
N8N_EXTERNAL_PORT=5678

# n8n webhook base URL (used by AnythingLLM skills)
N8N_WEBHOOK_URL=http://n8n:5678/webhook

# n8n basic auth (optional, recommended for production)
# N8N_BASIC_AUTH_ACTIVE=true
# N8N_BASIC_AUTH_USER=admin
# N8N_BASIC_AUTH_PASSWORD=changeme_n8n_password

# ------------------------------------------------------------------------------
# AnythingLLM Configuration
# ------------------------------------------------------------------------------
ANYTHINGLLM_HOST=anythingllm
ANYTHINGLLM_PORT=3001

# AnythingLLM external port (for host access)
ANYTHINGLLM_EXTERNAL_PORT=3001

# Storage path for AnythingLLM data
ANYTHINGLLM_STORAGE=/mnt/user/appdata/anythingllm

# ⚠️ SECURITY: Set JWT secret for production
# ANYTHINGLLM_JWT_SECRET=changeme_jwt_secret_key

# ------------------------------------------------------------------------------
# MCP Server Configuration
# ------------------------------------------------------------------------------
MCP_SERVER_HOST=mcp-server
MCP_SERVER_PORT=8000

# MCP Server external port (for host access)
MCP_SERVER_EXTERNAL_PORT=8081

# ------------------------------------------------------------------------------
# AI Stack Application Configuration
# ------------------------------------------------------------------------------

# Default user ID (single-user mode)
# This UUID is used for all database operations
DEFAULT_USER_ID=00000000-0000-0000-0000-000000000001

# Timezone for scheduled tasks
TZ=UTC

# ------------------------------------------------------------------------------
# Docker Network Configuration
# ------------------------------------------------------------------------------
DOCKER_NETWORK=ai-stack-network

# ------------------------------------------------------------------------------
# Storage Paths (adjust for your system)
# ------------------------------------------------------------------------------

# Base appdata directory (unRAID default)
APPDATA_BASE=/mnt/user/appdata

# PostgreSQL data directory
POSTGRES_DATA=${APPDATA_BASE}/postgres

# Qdrant data directory
QDRANT_DATA=${APPDATA_BASE}/qdrant

# Redis data directory
REDIS_DATA=${APPDATA_BASE}/redis

# Ollama models directory
OLLAMA_DATA=${APPDATA_BASE}/ollama

# n8n data directory
N8N_DATA=${APPDATA_BASE}/n8n

# AnythingLLM data directory
ANYTHINGLLM_DATA=${APPDATA_BASE}/anythingllm

# MCP Server data directory
MCP_SERVER_DATA=${APPDATA_BASE}/mcp-server

# ------------------------------------------------------------------------------
# Obsidian Vault Configuration (Optional)
# ------------------------------------------------------------------------------

# Path to your Obsidian vault for document embedding
# VAULT_PATH=/mnt/user/documents/ObsidianVault

# Vault sync interval (in hours)
# VAULT_SYNC_INTERVAL=12

# ------------------------------------------------------------------------------
# External Integration Configuration (Optional)
# ------------------------------------------------------------------------------

# Todoist API Token (for task sync)
# Get from: https://todoist.com/prefs/integrations
# TODOIST_API_TOKEN=your_todoist_api_token_here

# Google Calendar OAuth Credentials
# Get from: https://console.cloud.google.com/
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# GOOGLE_REFRESH_TOKEN=your_google_refresh_token

# ------------------------------------------------------------------------------
# Performance & Limits
# ------------------------------------------------------------------------------

# PostgreSQL connection pool size
POSTGRES_MIN_POOL_SIZE=2
POSTGRES_MAX_POOL_SIZE=10

# Embedding batch size (for bulk imports)
EMBEDDING_BATCH_SIZE=10

# Memory retention period (days)
MEMORY_RETENTION_DAYS=365

# Old data cleanup after (days)
CLEANUP_RETENTION_DAYS=90

# ------------------------------------------------------------------------------
# Debug & Logging (Development Only)
# ------------------------------------------------------------------------------

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable debug mode (verbose logging)
# DEBUG=false

# Enable SQL query logging
# SQL_DEBUG=false

# ==============================================================================
# DEPLOYMENT CHECKLIST
# ==============================================================================
# Before deploying to production:
#
# [ ] Change POSTGRES_PASSWORD to a strong password
# [ ] Set REDIS_PASSWORD if using Redis authentication
# [ ] Set N8N_BASIC_AUTH credentials
# [ ] Set ANYTHINGLLM_JWT_SECRET
# [ ] Update DEFAULT_USER_ID if multi-user support added
# [ ] Configure VAULT_PATH if using Obsidian integration
# [ ] Add TODOIST_API_TOKEN if using Todoist sync
# [ ] Add Google Calendar credentials if using Calendar sync
# [ ] Verify all storage paths exist and have correct permissions
# [ ] Update TZ to your local timezone
# [ ] Review LOG_LEVEL for production (INFO or WARNING)
#
# ==============================================================================
