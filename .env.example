# ==============================================================================
# AI Stack - Environment Configuration Template
# ==============================================================================
# üìã SETUP INSTRUCTIONS:
#   1. Copy this file: cp .env.example .env
#   2. Update all values marked with ‚ö†Ô∏è  REQUIRED
#   3. Review and customize optional settings
#   4. NEVER commit the .env file to version control
# ==============================================================================

# ------------------------------------------------------------------------------
# PostgreSQL Database Configuration
# ------------------------------------------------------------------------------
POSTGRES_HOST=postgres-ai-stack
POSTGRES_PORT=5432
POSTGRES_DB=aistack
POSTGRES_USER=aistack_user

# ‚ö†Ô∏è REQUIRED: Change this to a strong password!
# Use: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# PostgreSQL external port (for host access)
POSTGRES_EXTERNAL_PORT=5434

# ------------------------------------------------------------------------------
# Qdrant Vector Database Configuration
# ------------------------------------------------------------------------------
QDRANT_HOST=qdrant-ai-stack
QDRANT_PORT=6333
QDRANT_EXTERNAL_PORT=6333

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_HOST=redis-ai-stack
REDIS_PORT=6379
REDIS_EXTERNAL_PORT=6379

# ‚ö†Ô∏è RECOMMENDED: Set password for production
# REDIS_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# ------------------------------------------------------------------------------
# Ollama LLM Configuration
# ------------------------------------------------------------------------------
OLLAMA_HOST=ollama-ai-stack
OLLAMA_PORT=11434
OLLAMA_EXTERNAL_PORT=11434

# Models to pull on startup (comma-separated)
OLLAMA_MODELS=llama3.2:3b,nomic-embed-text

# ------------------------------------------------------------------------------
# n8n Workflow Automation Configuration
# ------------------------------------------------------------------------------
N8N_HOST=n8n-ai-stack
N8N_PORT=5678
N8N_EXTERNAL_PORT=5678
N8N_WEBHOOK_URL=http://n8n-ai-stack:5678/webhook

# ‚ö†Ô∏è RECOMMENDED: Enable basic auth for production
# N8N_BASIC_AUTH_ACTIVE=true
# N8N_BASIC_AUTH_USER=admin
# N8N_BASIC_AUTH_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# ------------------------------------------------------------------------------
# AnythingLLM Configuration
# ------------------------------------------------------------------------------
ANYTHINGLLM_HOST=anythingllm-ai-stack
ANYTHINGLLM_PORT=3001
ANYTHINGLLM_EXTERNAL_PORT=3001
ANYTHINGLLM_STORAGE=/mnt/user/appdata/anythingllm

# ‚ö†Ô∏è REQUIRED: Set JWT secret for production
# ANYTHINGLLM_JWT_SECRET=CHANGE_ME_TO_SECURE_JWT_SECRET

# ------------------------------------------------------------------------------
# MCP Server Configuration
# ------------------------------------------------------------------------------
MCP_SERVER_HOST=mcp-server-ai-stack
MCP_SERVER_PORT=8000
MCP_SERVER_EXTERNAL_PORT=8081

# ------------------------------------------------------------------------------
# AI Stack Application Configuration
# ------------------------------------------------------------------------------

# Default user ID (single-user mode)
DEFAULT_USER_ID=00000000-0000-0000-0000-000000000001

# Timezone for scheduled tasks
TZ=UTC

# ------------------------------------------------------------------------------
# Docker Network Configuration
# ------------------------------------------------------------------------------
DOCKER_NETWORK=ai-stack-network

# ------------------------------------------------------------------------------
# Storage Paths (adjust for your system)
# ------------------------------------------------------------------------------
APPDATA_BASE=/mnt/user/appdata

POSTGRES_DATA=${APPDATA_BASE}/postgres-ai-stack
QDRANT_DATA=${APPDATA_BASE}/qdrant-ai-stack
REDIS_DATA=${APPDATA_BASE}/redis-ai-stack
OLLAMA_DATA=${APPDATA_BASE}/ollama-ai-stack
N8N_DATA=${APPDATA_BASE}/n8n-ai-stack
ANYTHINGLLM_DATA=${APPDATA_BASE}/anythingllm-ai-stack
MCP_SERVER_DATA=${APPDATA_BASE}/mcp-server-ai-stack

# ------------------------------------------------------------------------------
# Obsidian Vault Configuration (Optional)
# ------------------------------------------------------------------------------
# VAULT_PATH=/path/to/your/ObsidianVault
# VAULT_SYNC_INTERVAL=12

# ------------------------------------------------------------------------------
# External Integration Configuration (Optional)
# ------------------------------------------------------------------------------

# Todoist API Token: https://todoist.com/prefs/integrations
# TODOIST_API_TOKEN=your_todoist_api_token_here

# Google Calendar OAuth: https://console.cloud.google.com/
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# GOOGLE_REFRESH_TOKEN=your_google_refresh_token

# ------------------------------------------------------------------------------
# Performance & Limits
# ------------------------------------------------------------------------------
POSTGRES_MIN_POOL_SIZE=2
POSTGRES_MAX_POOL_SIZE=10
EMBEDDING_BATCH_SIZE=10
MEMORY_RETENTION_DAYS=365
CLEANUP_RETENTION_DAYS=90

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
LOG_LEVEL=INFO
# DEBUG=false
# SQL_DEBUG=false

# ==============================================================================
# üîí SECURITY CHECKLIST
# ==============================================================================
# Before deploying to production:
#
# [ ] POSTGRES_PASSWORD - Use strong password (32+ chars)
# [ ] REDIS_PASSWORD - Enable and set strong password
# [ ] N8N_BASIC_AUTH - Enable and configure credentials
# [ ] ANYTHINGLLM_JWT_SECRET - Set random secret key
# [ ] Review all external ports for security
# [ ] Verify storage paths have correct permissions
# [ ] Update TZ to your local timezone
# [ ] Test database backups
# [ ] Enable firewall rules for exposed ports
# [ ] Review LOG_LEVEL for production (INFO or WARNING)
#
# ==============================================================================
