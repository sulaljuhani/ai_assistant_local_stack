<?xml version="1.0"?>
<Container version="2">
  <Name>openmemory-ai-stack</Name>
  <Repository>ghcr.io/caviraoss/openmemory:latest</Repository>
  <Registry>https://github.com/CaviraOSS/OpenMemory</Registry>
  <Network>ai-stack-network</Network>
  <MyIP/>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/CaviraOSS/OpenMemory</Support>
  <Project>https://github.com/CaviraOSS/OpenMemory</Project>
  <Overview>OpenMemory - Long-term memory system for AI agents. Organizes memories by type (semantic, episodic, procedural, emotional, reflective), tracks importance over time, and builds associations between related memories. Includes MCP (Model Context Protocol) support and web dashboard.</Overview>
  <Category>Productivity: AI: Status:Stable</Category>
  <WebUI>http://[IP]:[PORT:8080]</WebUI>
  <TemplateURL/>
  <Icon>https://raw.githubusercontent.com/CaviraOSS/OpenMemory/main/docs/images/logo.png</Icon>
  <ExtraParams>--network=ai-stack-network</ExtraParams>
  <PostArgs/>
  <CPUset/>
  <DateInstalled/>
  <DonateText/>
  <DonateLink/>
  <Requires>Create Docker network: docker network create ai-stack-network. PostgreSQL and Ollama containers must be running.</Requires>

  <!-- API Port -->
  <Config Name="OpenMemory API Port" Target="8080" Default="8080" Mode="tcp" Description="OpenMemory API server port" Type="Port" Display="always" Required="true" Mask="false">8080</Config>

  <!-- Core Configuration -->
  <Config Name="API Port (Internal)" Target="OM_PORT" Default="8080" Mode="" Description="Internal API port (should match container port)" Type="Variable" Display="advanced" Required="true" Mask="false">8080</Config>

  <Config Name="API Key" Target="OM_API_KEY" Default="" Mode="" Description="Authentication key for write operations (leave empty for development, set for production)" Type="Variable" Display="always" Required="false" Mask="true"></Config>

  <Config Name="Telemetry" Target="OM_TELEMETRY" Default="false" Mode="" Description="Enable anonymous usage tracking (set false to disable)" Type="Variable" Display="advanced" Required="true" Mask="false">false</Config>

  <!-- Embeddings Configuration -->
  <Config Name="Embeddings Provider" Target="OM_EMBEDDINGS" Default="ollama" Mode="" Description="Embedding provider: ollama, e5, bge, openai, gemini, aws" Type="Variable" Display="always" Required="true" Mask="false">ollama</Config>

  <Config Name="Ollama Host" Target="OLLAMA_HOST" Default="http://ollama-ai-stack:11434" Mode="" Description="Ollama server URL (use container name on ai-stack-network)" Type="Variable" Display="always" Required="true" Mask="false">http://ollama-ai-stack:11434</Config>

  <Config Name="Ollama Model" Target="OLLAMA_MODEL" Default="nomic-embed-text" Mode="" Description="Ollama embedding model (must be pulled first: docker exec ollama-ai-stack ollama pull nomic-embed-text)" Type="Variable" Display="always" Required="true" Mask="false">nomic-embed-text</Config>

  <!-- Database Configuration -->
  <Config Name="Metadata Backend" Target="OM_METADATA_BACKEND" Default="postgresql" Mode="" Description="Database backend: postgresql or sqlite" Type="Variable" Display="always" Required="true" Mask="false">postgresql</Config>

  <Config Name="PostgreSQL Host" Target="POSTGRES_HOST" Default="postgres-ai-stack" Mode="" Description="PostgreSQL container hostname" Type="Variable" Display="always" Required="true" Mask="false">postgres-ai-stack</Config>

  <Config Name="PostgreSQL Port" Target="POSTGRES_PORT" Default="5432" Mode="" Description="PostgreSQL port (internal container port)" Type="Variable" Display="always" Required="true" Mask="false">5432</Config>

  <Config Name="PostgreSQL Database" Target="POSTGRES_DB" Default="openmemory" Mode="" Description="Database name (must be created: docker exec postgres-ai-stack psql -U aistack_user -c 'CREATE DATABASE openmemory;')" Type="Variable" Display="always" Required="true" Mask="false">openmemory</Config>

  <Config Name="PostgreSQL User" Target="POSTGRES_USER" Default="aistack_user" Mode="" Description="Database username (must match PostgreSQL container)" Type="Variable" Display="always" Required="true" Mask="false">aistack_user</Config>

  <Config Name="PostgreSQL Password" Target="POSTGRES_PASSWORD" Default="" Mode="" Description="Database password (must match PostgreSQL container)" Type="Variable" Display="always" Required="true" Mask="true">changeme_secure_password</Config>

  <!-- MCP Configuration -->
  <Config Name="MCP Mode" Target="OM_MCP_ENABLED" Default="true" Mode="" Description="Enable Model Context Protocol support" Type="Variable" Display="advanced" Required="true" Mask="false">true</Config>

  <!-- Data Persistence -->
  <Config Name="Data Directory" Target="/data" Default="/mnt/user/appdata/openmemory/data" Mode="rw" Description="OpenMemory data directory (for SQLite if used, logs, etc.)" Type="Path" Display="advanced" Required="true" Mask="false">/mnt/user/appdata/openmemory/data</Config>

  <Config Name="Config Directory" Target="/app/config" Default="/mnt/user/appdata/openmemory/config" Mode="rw" Description="OpenMemory configuration files" type="Path" Display="advanced" Required="false" Mask="false">/mnt/user/appdata/openmemory/config</Config>
</Container>
